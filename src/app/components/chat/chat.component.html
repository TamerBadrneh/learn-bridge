<div class="chat-wrapper-container">
  <div class="chat-wrapper">
    <h2>Chats</h2>
    <div class="chat-container">
      <!-- Sidebar -->
      <div class="chat-sidebar">
        <div class="search-container">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="Search..." />
            <button class="btn btn-outline-secondary" type="button">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-search"
                viewBox="0 0 16 16"
              >
                <path
                  d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
                />
              </svg>
            </button>
          </div>
        </div>

        <div class="chat-list">
          <div class="chat-item active">
            <img
              src="https://via.placeholder.com/50"
              class="avatar"
              alt="Jamil Muhanna"
            />
            <div class="chat-info">
              <h5>Jamil Muhanna</h5>
              <p>Got it, thanks! Let's continue...</p>
            </div>
            <div class="meta">
              <span class="timestamp">Just now</span>
              <span class="unread">1</span>
            </div>
          </div>

          <div class="chat-item">
            <img
              src="https://via.placeholder.com/50"
              class="avatar"
              alt="Rashed Maaitah"
            />
            <div class="chat-info">
              <h5>Rashed Maaitah</h5>
              <p>what abt tomorrow at 6 pm?</p>
            </div>
            <div class="meta">
              <span class="timestamp">Yesterday</span>
              <span class="unread">3</span>
            </div>
          </div>

          <div class="chat-item">
            <img
              src="https://via.placeholder.com/50"
              class="avatar"
              alt="Ismail Qawasmi"
            />
            <div class="chat-info">
              <h5>Ismail Qawasmi</h5>
              <p>Sent a file.</p>
            </div>
            <div class="meta">
              <span class="timestamp">SAT 8 AM</span>
            </div>
          </div>

          <div class="chat-item">
            <img
              src="https://via.placeholder.com/50"
              class="avatar"
              alt="Sarah Johnson"
            />
            <div class="chat-info">
              <h5>Sarah Johnson</h5>
              <p>I'll check and get back to you</p>
            </div>
            <div class="meta">
              <span class="timestamp">FRI 3 PM</span>
            </div>
          </div>

          <div class="chat-item">
            <img
              src="https://via.placeholder.com/50"
              class="avatar"
              alt="Ahmed Khalid"
            />
            <div class="chat-info">
              <h5>Ahmed Khalid</h5>
              <p>Great! I'll be there at 2 PM</p>
            </div>
            <div class="meta">
              <span class="timestamp">THU 11 AM</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Chat main area -->
      <div class="chat-main">
        <div class="chat-header">
          <div class="user">
            <img
              src="https://via.placeholder.com/40"
              class="avatar"
              alt="Jamil Muhanna"
            />
            <h5>Jamil Muhanna</h5>
          </div>
          <div class="session-buttons">
            <button class="btn btn-light">Cancel session</button>
            <button class="btn btn-info text-white">End Session</button>
          </div>
        </div>

        <div class="chat-messages">
          <div
            class="message"
            *ngFor="let msg of messages$ | async"
            [ngClass]="{
              left: msg.sender_name !== 'You',
              right: msg.sender_name === 'You'
            }"
          >
            {{ msg.content }}
            <span class="msg-time">{{
              msg.sent_at?.toDate() | date : "shortTime"
            }}</span>
          </div>
        </div>
        <input
          type="text"
          class="form-control"
          placeholder="Type your message and press enter..."
          [(ngModel)]="messageText"
          (keydown.enter)="sendMessage()"
        />
      </div>
    </div>
  </div>
</div>
